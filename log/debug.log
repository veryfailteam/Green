(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.008) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.055) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.008) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "clinic_user"."brand_id", "clinic_user"."user_id", "clinic_user"."user_login_id", "clinic_user"."user_password", "clinic_user"."user_role", "clinic_user"."user_name", "clinic_user"."user_dob", "clinic_user"."user_phone_number", "clinic_user"."user_address", "clinic_user"."user_specialize", "clinic_user"."user_delete_flag" FROM "clinic_user" WHERE "clinic_user"."user_login_id" = 'D001'; args=('D001',)
(0.002) SELECT (1) AS "a" FROM "django_session" WHERE "django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' LIMIT 1; args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk',)
(0.003) INSERT INTO "django_session" ("session_key", "session_data", "expire_date") VALUES ('kbg4m038vp34c4axnlb9t7lshqrhr7fk', 'MzMxM2FkNjIyZjdlNDczZTJlY2FkMDM0YTVmMjczYjU5NmVjNTkyYTp7InVzZXJfaWQiOjEsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyBIaVx1MWViZm4iLCJyb2xlIjoiMSIsImJyYW5kX2lkIjoiMSJ9', '2017-11-18T08:17:18.156376+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', 'MzMxM2FkNjIyZjdlNDczZTJlY2FkMDM0YTVmMjczYjU5NmVjNTkyYTp7InVzZXJfaWQiOjEsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyBIaVx1MWViZm4iLCJyb2xlIjoiMSIsImJyYW5kX2lkIjoiMSJ9', datetime.datetime(2017, 11, 18, 8, 17, 18, 156376, tzinfo=<UTC>))
"POST /login/ HTTP/1.1" 302 0
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:17:18.307384+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 17, 18, 307384, tzinfo=<UTC>))
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 16, in crm_dentalclinic_overview
    current_date = datetime.date.today().strftime('%d-%m-%Y')
NameError: name 'datetime' is not defined
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 65889
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:20:04.756905+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 20, 4, 756905, tzinfo=<UTC>))
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 36, in crm_dentalclinic_overview
    with connection.cursor() as cursor:
NameError: name 'connection' is not defined
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 67186
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:21:50.660962+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 21, 50, 660962, tzinfo=<UTC>))
(0.002) SELECT
                          appointment_id
                        , customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            date_appointment = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: column reference "customer_id" is ambiguous
LINE 3:                         , customer_id
                                  ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 37, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column reference "customer_id" is ambiguous
LINE 3:                         , customer_id
                                  ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 96624
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.016) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:22:41.035843+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 22, 41, 35843, tzinfo=<UTC>))
(0.001) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            date_appointment = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: column "date_appointment" does not exist
LINE 14:                             date_appointment = '04-11-2017'
                                     ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 37, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "date_appointment" does not exist
LINE 14:                             date_appointment = '04-11-2017'
                                     ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 96946
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:23:20.304089+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 23, 20, 304089, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: operator does not exist: integer = character varying
LINE 15:                         AND customer.customer_id = appoinmen...
                                                          ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 37, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: operator does not exist: integer = character varying
LINE 15:                         AND customer.customer_id = appoinmen...
                                                          ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 98096
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.000) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
ALTER TABLE "clinic_appointment" ALTER COLUMN "brand_id" TYPE integer USING "brand_id"::integer; (params [])
(0.269) ALTER TABLE "clinic_appointment" ALTER COLUMN "brand_id" TYPE integer USING "brand_id"::integer; args=[]
ALTER TABLE "clinic_appointment" ALTER COLUMN "customer_id" TYPE integer USING "customer_id"::integer; (params [])
(0.083) ALTER TABLE "clinic_appointment" ALTER COLUMN "customer_id" TYPE integer USING "customer_id"::integer; args=[]
ALTER TABLE "clinic_appointment" ALTER COLUMN "treatment_id" TYPE integer USING "treatment_id"::integer; (params [])
(0.083) ALTER TABLE "clinic_appointment" ALTER COLUMN "treatment_id" TYPE integer USING "treatment_id"::integer; args=[]
ALTER TABLE "clinic_appointment" ALTER COLUMN "user_id" TYPE integer USING "user_id"::integer; (params [])
(0.074) ALTER TABLE "clinic_appointment" ALTER COLUMN "user_id" TYPE integer USING "user_id"::integer; args=[]
ALTER TABLE "clinic_brand" ALTER COLUMN "brand_manager_id" DROP NOT NULL; (params [])
(0.000) ALTER TABLE "clinic_brand" ALTER COLUMN "brand_manager_id" DROP NOT NULL; args=[]
ALTER TABLE "clinic_customer" ALTER COLUMN "brand_id" TYPE integer USING "brand_id"::integer; (params [])
(0.096) ALTER TABLE "clinic_customer" ALTER COLUMN "brand_id" TYPE integer USING "brand_id"::integer; args=[]
ALTER TABLE "clinic_user" ALTER COLUMN "brand_id" TYPE integer USING "brand_id"::integer; (params [])
(0.121) ALTER TABLE "clinic_user" ALTER COLUMN "brand_id" TYPE integer USING "brand_id"::integer; args=[]
(0.003) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('clinic', '0007_auto_20171104_1534', '2017-11-04T08:34:52.888703+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('clinic', '0007_auto_20171104_1534', datetime.datetime(2017, 11, 4, 8, 34, 52, 888703, tzinfo=<UTC>))
(0.002) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'appointment'); args=('clinic', 'appointment')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'brand'); args=('clinic', 'brand')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'customer'); args=('clinic', 'customer')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'user'); args=('clinic', 'user')
(0.004) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1, 2, 3, 4) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(1, 2, 3, 4)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'clinic'; args=('clinic',)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" = 'logentry'); args=('admin', 'logentry')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(5,)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'permission'); args=('auth', 'permission')
(0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'group'); args=('auth', 'group')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'user'); args=('auth', 'user')
(0.002) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (8, 6, 7) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(8, 6, 7)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',)
(0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" = 'contenttype'); args=('contenttypes', 'contenttype')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (9) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(9,)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" = 'session'); args=('sessions', 'session')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (10) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(10,)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',)
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:35:10.730724+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 35, 10, 730724, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 38, in crm_dentalclinic_overview
    results = namedtuplefetchall(cursor)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 65, in namedtuplefetchall
    nt_result = namedtuple('Result', [col[0] for col in desc])
NameError: name 'namedtuple' is not defined
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 71385
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:36:20.565718+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 36, 20, 565718, tzinfo=<UTC>))
(0.002) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 48, in crm_dentalclinic_overview
    return render(request,"doctor/overview.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 25, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: doctor/overview.html
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 83071
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:37:02.045090+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 37, 2, 45090, tzinfo=<UTC>))
(0.005) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 48, in crm_dentalclinic_overview
    return render(request,"doctor/overview.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 25, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: doctor/overview.html
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 81731
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:38:26.281908+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 38, 26, 281908, tzinfo=<UTC>))
(0.002) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 510, in parse
    compile_func = self.tags[command]
KeyError: 'endblock'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 48, in crm_dentalclinic_overview
    return render(request,"clinic/crm_dentalclinic_overview.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\loader_tags.py", line 299, in do_extends
    nodelist = parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\loader_tags.py", line 242, in do_block
    nodelist = parser.parse(('endblock',))
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 803, in do_for
    nodelist_loop = parser.parse(('empty', 'endfor',))
  File "C:\Python\lib\site-packages\django\template\base.py", line 512, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "C:\Python\lib\site-packages\django\template\base.py", line 568, in invalid_block_tag
    get_text_list(["'%s'" % p for p in parse_until], 'or'),
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 112: 'endblock', expected 'empty' or 'endfor'. Did you forget to register or load this tag?
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 174640
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:39:10.736451+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 39, 10, 736451, tzinfo=<UTC>))
(0.002) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 8371
"GET /static/css/style.css HTTP/1.1" 200 3325
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:42:13.715917+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 42, 13, 715917, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 8371
"GET /static/css/style.css HTTP/1.1" 200 3325
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:42:20.622312+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 42, 20, 622312, tzinfo=<UTC>))
(0.002) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 8371
"GET /static/css/style.css HTTP/1.1" 200 3325
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T08:46:05.191157+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 8, 46, 5, 191157, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 9427
"GET /static/css/style.css HTTP/1.1" 200 3325
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T09:08:33.425271+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 9, 8, 33, 425271, tzinfo=<UTC>))
(0.002) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 9427
"GET /static/css/style.css HTTP/1.1" 200 3325
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T09:09:18.975876+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 9, 9, 18, 975876, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 9499
"GET /static/css/style.css HTTP/1.1" 200 3325
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T09:09:45.477392+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 9, 9, 45, 477392, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 9415
"GET /static/css/style.css HTTP/1.1" 200 3325
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T09:42:16.712997+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 9, 42, 16, 712997, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 9641
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T09:44:16.607854+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 9, 44, 16, 607854, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 9683
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.016) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T09:55:29.985369+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 9, 55, 29, 985369, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12859
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T09:56:55.964287+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 9, 56, 55, 964287, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12859
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:15:21.182502+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 15, 21, 182502, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13146
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:17:08.920664+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 17, 8, 920664, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13169
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:17:18.258198+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 17, 18, 258198, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13169
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:17:20.770342+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 17, 20, 770342, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13169
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:17:22.552444+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 17, 22, 552444, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13169
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:18:36.360665+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 18, 36, 360665, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13222
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:22:33.736242+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 22, 33, 736242, tzinfo=<UTC>))
(0.006) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13227
"GET /static/css/style.css HTTP/1.1" 200 3647
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:26:45.579647+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 26, 45, 579647, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13229
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:26:48.208797+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 26, 48, 208797, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13229
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:27:41.812863+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 27, 41, 812863, tzinfo=<UTC>))
(0.002) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13271
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:28:26.825438+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 28, 26, 825438, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13213
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:32:42.488061+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 32, 42, 488061, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13507
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:32:45.738247+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 32, 45, 738247, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13507
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:32:48.839424+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 32, 48, 839424, tzinfo=<UTC>))
(0.003) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13507
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:33:03.141242+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 33, 3, 141242, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13514
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.000) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T10:42:57.126216+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 10, 42, 57, 126216, tzinfo=<UTC>))
(0.004) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        AND appointment_delete_flag = '0'

                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13514
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.008) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T11:04:01.363527+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 11, 4, 1, 363527, tzinfo=<UTC>))
(0.001) SELECT
                          appointment_id
                        , customer.customer_id
                        , customer_name
                        , customer_phone_number
                        , appointment_time
                        , appointment_name
                        , appointment_content
                        , appointment_status
                    FROM
                          clinic_customer customer
                        , clinic_appointment appoinment
                    WHERE
                            appointment_date = '04-11-2017'
                        AND customer.customer_id = appoinment.customer_id
                        WHEN 1=1 THEN
                           AND appointment_delete_flag = '0'
                    ORDER BY
                          appointment_status
                        , appointment_time
                ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: syntax error at or near "WHEN"
LINE 16:                         WHEN 1=1 THEN
                                 ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 46, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: syntax error at or near "WHEN"
LINE 16:                         WHEN 1=1 THEN
                                 ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 97379
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.041) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.005) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.039) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:05:10.669399+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 5, 10, 669399, tzinfo=<UTC>))
(0.001)    SELECT     appointment_id   , customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN       , clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND customer.customer_id = appoinment.customer_id       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: syntax error at or near ","
LINE 1: ...  FROM         clinic_customer   INNER JOIN       , clinic_a...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 48, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: syntax error at or near ","
LINE 1: ...  FROM         clinic_customer   INNER JOIN       , clinic_a...
                                                             ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 94982
(0.010) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:09:38.284706+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 9, 38, 284706, tzinfo=<UTC>))
(0.008)    SELECT     appointment_id   , customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN       , clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND customer.customer_id = appoinment.customer_id       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: syntax error at or near ","
LINE 1: ...  FROM         clinic_customer   INNER JOIN       , clinic_a...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 48, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: syntax error at or near ","
LINE 1: ...  FROM         clinic_customer   INNER JOIN       , clinic_a...
                                                             ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 94981
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.020) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:10:07.657386+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 10, 7, 657386, tzinfo=<UTC>))
(0.010)    SELECT     appointment_id   , customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND customer.customer_id = appoinment.customer_id       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: column reference "customer_id" is ambiguous
LINE 1:    SELECT     appointment_id   , customer_id   , customer_na...
                                         ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 48, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column reference "customer_id" is ambiguous
LINE 1:    SELECT     appointment_id   , customer_id   , customer_na...
                                         ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 94917
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:11:32.143218+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 11, 32, 143218, tzinfo=<UTC>))
(0.009)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND customer.customer_id = appoinment.customer_id       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: missing FROM-clause entry for table "customer"
LINE 1: ...        appointment_date = '04-11-2017'       AND customer.c...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 48, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: missing FROM-clause entry for table "customer"
LINE 1: ...        appointment_date = '04-11-2017'       AND customer.c...
                                                             ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 95363
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.029) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:12:13.445580+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 12, 13, 445580, tzinfo=<UTC>))
(0.019)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13514
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.039) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.007) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.010) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.010) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.009) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.010) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:17:36.493058+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 17, 36, 493058, tzinfo=<UTC>))
(0.007)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND appointment_assign_id = '1'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13514
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:18:37.861568+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 18, 37, 861568, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND appointment_assign_id = '1'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 10092
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /login/ HTTP/1.1" 200 2096
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.003) SELECT "clinic_user"."brand_id", "clinic_user"."user_id", "clinic_user"."user_login_id", "clinic_user"."user_password", "clinic_user"."user_role", "clinic_user"."user_name", "clinic_user"."user_dob", "clinic_user"."user_phone_number", "clinic_user"."user_address", "clinic_user"."user_specialize", "clinic_user"."user_delete_flag" FROM "clinic_user" WHERE "clinic_user"."user_login_id" = 'R001'; args=('R001',)
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:19:16.932802+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 19, 16, 932802, tzinfo=<UTC>))
(0.001) UPDATE "django_session" SET "session_data" = 'N2FiYTgxOTNhNmE2NmM3ODg2NmVkNjI0MTBjMmFhYzBmNGJiN2Y2NDp7InVzZXJfaWQiOjIsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyAiLCJyb2xlIjoiMiIsImJyYW5kX2lkIjoxfQ==', "expire_date" = '2017-11-18T12:19:16.937803+00:00'::timestamptz WHERE "django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk'; args=('N2FiYTgxOTNhNmE2NmM3ODg2NmVkNjI0MTBjMmFhYzBmNGJiN2Y2NDp7InVzZXJfaWQiOjIsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyAiLCJyb2xlIjoiMiIsImJyYW5kX2lkIjoxfQ==', datetime.datetime(2017, 11, 18, 12, 19, 16, 937803, tzinfo=<UTC>), 'kbg4m038vp34c4axnlb9t7lshqrhr7fk')
"POST /login/ HTTP/1.1" 302 0
(0.010) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:19:17.292823+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 19, 17, 292823, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13514
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /login/ HTTP/1.1" 200 2096
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.004) SELECT "clinic_user"."brand_id", "clinic_user"."user_id", "clinic_user"."user_login_id", "clinic_user"."user_password", "clinic_user"."user_role", "clinic_user"."user_name", "clinic_user"."user_dob", "clinic_user"."user_phone_number", "clinic_user"."user_address", "clinic_user"."user_specialize", "clinic_user"."user_delete_flag" FROM "clinic_user" WHERE "clinic_user"."user_login_id" = 'D001'; args=('D001',)
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:19:40.919174+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 19, 40, 919174, tzinfo=<UTC>))
(0.001) UPDATE "django_session" SET "session_data" = 'ODUxZTYzYmJiNjc4MGYxYmY4Y2QwNTE5MGNkNTAwOTE4NTUzNjQ5Njp7InVzZXJfaWQiOjEsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyBIaVx1MWViZm4iLCJyb2xlIjoiMSIsImJyYW5kX2lkIjoxfQ==', "expire_date" = '2017-11-18T12:19:40.924175+00:00'::timestamptz WHERE "django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk'; args=('ODUxZTYzYmJiNjc4MGYxYmY4Y2QwNTE5MGNkNTAwOTE4NTUzNjQ5Njp7InVzZXJfaWQiOjEsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyBIaVx1MWViZm4iLCJyb2xlIjoiMSIsImJyYW5kX2lkIjoxfQ==', datetime.datetime(2017, 11, 18, 12, 19, 40, 924175, tzinfo=<UTC>), 'kbg4m038vp34c4axnlb9t7lshqrhr7fk')
"POST /login/ HTTP/1.1" 302 0
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:19:41.262194+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 19, 41, 262194, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND appointment_assign_id = '1'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 10092
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /login/ HTTP/1.1" 200 2096
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.003) SELECT "clinic_user"."brand_id", "clinic_user"."user_id", "clinic_user"."user_login_id", "clinic_user"."user_password", "clinic_user"."user_role", "clinic_user"."user_name", "clinic_user"."user_dob", "clinic_user"."user_phone_number", "clinic_user"."user_address", "clinic_user"."user_specialize", "clinic_user"."user_delete_flag" FROM "clinic_user" WHERE "clinic_user"."user_login_id" = 'D001'; args=('D001',)
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:20:11.632931+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 20, 11, 632931, tzinfo=<UTC>))
(0.000) UPDATE "django_session" SET "session_data" = 'ODUxZTYzYmJiNjc4MGYxYmY4Y2QwNTE5MGNkNTAwOTE4NTUzNjQ5Njp7InVzZXJfaWQiOjEsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyBIaVx1MWViZm4iLCJyb2xlIjoiMSIsImJyYW5kX2lkIjoxfQ==', "expire_date" = '2017-11-18T12:20:11.637931+00:00'::timestamptz WHERE "django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk'; args=('ODUxZTYzYmJiNjc4MGYxYmY4Y2QwNTE5MGNkNTAwOTE4NTUzNjQ5Njp7InVzZXJfaWQiOjEsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyBIaVx1MWViZm4iLCJyb2xlIjoiMSIsImJyYW5kX2lkIjoxfQ==', datetime.datetime(2017, 11, 18, 12, 20, 11, 637931, tzinfo=<UTC>), 'kbg4m038vp34c4axnlb9t7lshqrhr7fk')
"POST /login/ HTTP/1.1" 302 0
(0.009) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:20:11.988951+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 20, 11, 988951, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND appointment_assign_id = '1'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 10092
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
"GET /login/ HTTP/1.1" 200 2096
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.003) SELECT "clinic_user"."brand_id", "clinic_user"."user_id", "clinic_user"."user_login_id", "clinic_user"."user_password", "clinic_user"."user_role", "clinic_user"."user_name", "clinic_user"."user_dob", "clinic_user"."user_phone_number", "clinic_user"."user_address", "clinic_user"."user_specialize", "clinic_user"."user_delete_flag" FROM "clinic_user" WHERE "clinic_user"."user_login_id" = 'R001'; args=('R001',)
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:20:23.454607+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 20, 23, 454607, tzinfo=<UTC>))
(0.001) UPDATE "django_session" SET "session_data" = 'N2FiYTgxOTNhNmE2NmM3ODg2NmVkNjI0MTBjMmFhYzBmNGJiN2Y2NDp7InVzZXJfaWQiOjIsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyAiLCJyb2xlIjoiMiIsImJyYW5kX2lkIjoxfQ==', "expire_date" = '2017-11-18T12:20:23.458607+00:00'::timestamptz WHERE "django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk'; args=('N2FiYTgxOTNhNmE2NmM3ODg2NmVkNjI0MTBjMmFhYzBmNGJiN2Y2NDp7InVzZXJfaWQiOjIsInVzZXJfbmFtZSI6IlRyXHUxZWE3biBUcnVuZyAiLCJyb2xlIjoiMiIsImJyYW5kX2lkIjoxfQ==', datetime.datetime(2017, 11, 18, 12, 20, 23, 458607, tzinfo=<UTC>), 'kbg4m038vp34c4axnlb9t7lshqrhr7fk')
"POST /login/ HTTP/1.1" 302 0
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-04T12:20:23.834629+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 4, 12, 20, 23, 834629, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '04-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13514
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"GET /static/css/bootstrap.min.css.map HTTP/1.1" 404 1688
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.039) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.006) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.009) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.009) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.009) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.009) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.000) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
ALTER TABLE "clinic_appointment" ALTER COLUMN "appointment_assign_id" TYPE integer USING "appointment_assign_id"::integer; (params [])
(0.174) ALTER TABLE "clinic_appointment" ALTER COLUMN "appointment_assign_id" TYPE integer USING "appointment_assign_id"::integer; args=[]
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('clinic', '0008_auto_20171104_1946', '2017-11-04T12:48:03.602562+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('clinic', '0008_auto_20171104_1946', datetime.datetime(2017, 11, 4, 12, 48, 3, 602562, tzinfo=<UTC>))
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('clinic', '0009_auto_20171104_1947', '2017-11-04T12:48:03.613563+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('clinic', '0009_auto_20171104_1947', datetime.datetime(2017, 11, 4, 12, 48, 3, 613563, tzinfo=<UTC>))
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.000) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'brand'); args=('clinic', 'brand')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'customer'); args=('clinic', 'customer')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'user'); args=('clinic', 'user')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'appointment'); args=('clinic', 'appointment')
(0.002) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1, 2, 3, 4) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(1, 2, 3, 4)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'clinic'; args=('clinic',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" = 'logentry'); args=('admin', 'logentry')
(0.003) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(5,)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'permission'); args=('auth', 'permission')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'group'); args=('auth', 'group')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'user'); args=('auth', 'user')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (8, 6, 7) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(8, 6, 7)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" = 'contenttype'); args=('contenttypes', 'contenttype')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (9) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(9,)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" = 'session'); args=('sessions', 'session')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (10) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(10,)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',)
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.021) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.021) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.007) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.478) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.086) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.184) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T04:13:12.679248+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 4, 13, 12, 679248, tzinfo=<UTC>))
(0.095)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 51, in crm_dentalclinic_overview
    selected_customer = lstCusToday[0]
IndexError: list index out of range
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 66417
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 3823
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T04:29:42.039654+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 4, 29, 42, 39654, tzinfo=<UTC>))
(0.002)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 52, in crm_dentalclinic_overview
    selected_customer = lstCusToday[0]
IndexError: list index out of range
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 66545
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 3823
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T04:29:49.035871+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 4, 29, 49, 35871, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 52, in crm_dentalclinic_overview
    selected_customer = lstCusToday[0]
IndexError: list index out of range
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 66545
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 3823
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T04:29:51.438008+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 4, 29, 51, 438008, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 52, in crm_dentalclinic_overview
    selected_customer = lstCusToday[0]
IndexError: list index out of range
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 66545
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 3823
(0.008) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T04:30:28.640136+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 4, 30, 28, 640136, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 52, in crm_dentalclinic_overview
    selected_customer = lstCusToday[0]
IndexError: list index out of range
"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 66571
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 3823
(0.000) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.000) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T04:33:17.789788+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 4, 33, 17, 789788, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 8725
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 3823
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.051) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.154) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.009) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
CREATE TABLE "clinic_treatment" ("brand_id" integer NULL, "user_id" integer NULL, "customer_id" integer NULL, "treatment_id" serial NOT NULL PRIMARY KEY, "treatment_name" varchar(8) NULL, "treatment_content" varchar(500) NULL, "treatment_total_payment" integer NULL, "treatment_payment_status" integer NULL, "treatment_status" varchar(10) NULL, "treatment_create_date" varchar(10) NULL, "treatment_create_by" varchar(8) NULL, "treatment_update_date" varchar(10) NULL, "treatment_update_by" varchar(8) NULL, "treatment_delete_flag" varchar(1) NULL); (params None)
(0.822) CREATE TABLE "clinic_treatment" ("brand_id" integer NULL, "user_id" integer NULL, "customer_id" integer NULL, "treatment_id" serial NOT NULL PRIMARY KEY, "treatment_name" varchar(8) NULL, "treatment_content" varchar(500) NULL, "treatment_total_payment" integer NULL, "treatment_payment_status" integer NULL, "treatment_status" varchar(10) NULL, "treatment_create_date" varchar(10) NULL, "treatment_create_by" varchar(8) NULL, "treatment_update_date" varchar(10) NULL, "treatment_update_by" varchar(8) NULL, "treatment_delete_flag" varchar(1) NULL); args=None
ALTER TABLE "clinic_appointment" DROP COLUMN "appointment_name" CASCADE; (params [])
(0.141) ALTER TABLE "clinic_appointment" DROP COLUMN "appointment_name" CASCADE; args=[]
(0.002) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.037) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('clinic', '0010_auto_20171106_1311', '2017-11-06T06:32:38.274550+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('clinic', '0010_auto_20171106_1311', datetime.datetime(2017, 11, 6, 6, 32, 38, 274550, tzinfo=<UTC>))
(0.002) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.000) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.135) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'brand'); args=('clinic', 'brand')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'customer'); args=('clinic', 'customer')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'user'); args=('clinic', 'user')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'treatment'); args=('clinic', 'treatment')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'treatment'); args=('clinic', 'treatment')
(0.016) INSERT INTO "django_content_type" ("app_label", "model") VALUES ('clinic', 'treatment') RETURNING "django_content_type"."id"; args=('clinic', 'treatment')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'appointment'); args=('clinic', 'appointment')
(0.092) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1, 2, 3, 4, 11) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(1, 2, 3, 4, 11)
(0.031) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") VALUES ('Can add treatment', 11, 'add_treatment'), ('Can change treatment', 11, 'change_treatment'), ('Can delete treatment', 11, 'delete_treatment') RETURNING "auth_permission"."id"; args=('Can add treatment', 11, 'add_treatment', 'Can change treatment', 11, 'change_treatment', 'Can delete treatment', 11, 'delete_treatment')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'clinic'; args=('clinic',)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" = 'logentry'); args=('admin', 'logentry')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(5,)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'permission'); args=('auth', 'permission')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'group'); args=('auth', 'group')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'user'); args=('auth', 'user')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (8, 6, 7) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(8, 6, 7)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" = 'contenttype'); args=('contenttypes', 'contenttype')
(0.002) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (9) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(9,)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" = 'session'); args=('sessions', 'session')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (10) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(10,)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',)
(0.064) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 8, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '1', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0'); args=(1, 1, 1, 1, 8, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '1', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0')
(0.000) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 9, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '2', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0'); args=(1, 1, 1, 1, 9, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '2', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0')
(0.001) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 10, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '3', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0'); args=(1, 1, 1, 1, 10, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '3', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0')
(0.001) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 11, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '4', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0'); args=(1, 1, 1, 1, 11, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '4', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0')
(0.026) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 11, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '5', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0'); args=(1, 1, 1, 1, 11, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '5', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0')
(0.002) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 12, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '5', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0'); args=(1, 1, 1, 1, 12, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '5', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0')
(0.000) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 13, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '6', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0'); args=(1, 1, 1, 1, 13, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '6', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '0')
(0.000) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 14, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '6', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '1'); args=(1, 1, 1, 1, 14, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '6', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '1')
(0.000) INSERT INTO "clinic_appointment" ("brand_id", "user_id", "customer_id", "treatment_id", "appointment_id", "appointment_date", "appointment_time", "appointment_content", "appointment_assign_id", "appointment_estimated_time", "appointment_estimated_difficulty", "appointment_status", "appointment_note", "appointment_create_date", "appointment_create_by", "appointment_update_date", "appointment_update_by", "appointment_delete_flag") VALUES (1, 1, 1, 1, 15, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '6', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '1'); args=(1, 1, 1, 1, 15, '04-11-2017', '09:00', 'L lm ci g', 1, '60', '0', '6', 'nothing', '02-11-2017', '1', '02-11-2017', '1', '1')
(0.072) INSERT INTO "clinic_treatment" ("brand_id", "user_id", "customer_id", "treatment_id", "treatment_name", "treatment_content", "treatment_total_payment", "treatment_payment_status", "treatment_status", "treatment_create_date", "treatment_create_by", "treatment_update_date", "treatment_update_by", "treatment_delete_flag") VALUES (1, 1, 1, 1, 'treatment_name', 'treatment_content', 0, 0, '0', '0', '0', '0', '1', '0'); args=(1, 1, 1, 1, 'treatment_name', 'treatment_content', 0, 0, '0', '0', '0', '0', '1', '0')
(0.001) INSERT INTO "clinic_treatment" ("brand_id", "user_id", "customer_id", "treatment_id", "treatment_name", "treatment_content", "treatment_total_payment", "treatment_payment_status", "treatment_status", "treatment_create_date", "treatment_create_by", "treatment_update_date", "treatment_update_by", "treatment_delete_flag") VALUES (1, 1, 1, 1, 'treatment_name', 'treatment_content', 0, 0, '0', '0', '0', '0', '1', '0'); args=(1, 1, 1, 1, 'treatment_name', 'treatment_content', 0, 0, '0', '0', '0', '0', '1', '0')
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_name" TYPE varchar(200) USING "treatment_name"::varchar(200); (params [])
(0.001) ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_name" TYPE varchar(200) USING "treatment_name"::varchar(200); args=[]
ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_payment_status" SET DEFAULT %s; (params [0])
(0.001) ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_payment_status" SET DEFAULT 0; args=[0]
ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_payment_status" DROP DEFAULT; (params [])
(0.038) ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_payment_status" DROP DEFAULT; args=[]
ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_total_payment" SET DEFAULT %s; (params [0])
(0.002) ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_total_payment" SET DEFAULT 0; args=[0]
ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_total_payment" DROP DEFAULT; (params [])
(0.000) ALTER TABLE "clinic_treatment" ALTER COLUMN "treatment_total_payment" DROP DEFAULT; args=[]
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('clinic', '0011_auto_20171106_1529', '2017-11-06T08:29:26.671407+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('clinic', '0011_auto_20171106_1529', datetime.datetime(2017, 11, 6, 8, 29, 26, 671407, tzinfo=<UTC>))
(0.001) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.000) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'appointment'); args=('clinic', 'appointment')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'brand'); args=('clinic', 'brand')
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'customer'); args=('clinic', 'customer')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'user'); args=('clinic', 'user')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'clinic' AND "django_content_type"."model" = 'treatment'); args=('clinic', 'treatment')
(0.003) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1, 2, 3, 4, 11) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(1, 2, 3, 4, 11)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'clinic'; args=('clinic',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" = 'logentry'); args=('admin', 'logentry')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(5,)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'permission'); args=('auth', 'permission')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'group'); args=('auth', 'group')
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'user'); args=('auth', 'user')
(0.002) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (8, 6, 7) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(8, 6, 7)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" = 'contenttype'); args=('contenttypes', 'contenttype')
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (9) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(9,)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',)
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" = 'session'); args=('sessions', 'session')
(0.002) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (10) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(10,)
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',)
(0.002) INSERT INTO "clinic_treatment" ("brand_id", "user_id", "customer_id", "treatment_id", "treatment_name", "treatment_content", "treatment_total_payment", "treatment_payment_status", "treatment_status", "treatment_create_date", "treatment_create_by", "treatment_update_date", "treatment_update_by", "treatment_delete_flag") VALUES (1, 1, 1, 1, 'treatment_name', 'treatment_content', 0, 0, '0', '0', '0', '0', '1', '0'); args=(1, 1, 1, 1, 'treatment_name', 'treatment_content', 0, 0, '0', '0', '0', '0', '1', '0')
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.023) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.171) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:12:57.671748+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 12, 57, 671748, tzinfo=<UTC>))
(0.017)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_name   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = 0   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: column "appointment_name" does not exist
LINE 1: ... , customer_phone_number   , appointment_time   , appointmen...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 48, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "appointment_name" does not exist
LINE 1: ... , customer_phone_number   , appointment_time   , appointmen...
                                                             ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 94919
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 3823
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:14:57.351593+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 14, 57, 351593, tzinfo=<UTC>))
(0.002)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = 0   ORDER BY         appointment_status       , appointment_time; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: operator does not exist: character varying = integer
LINE 1: ... = '06-11-2017'       AND appointment_delete_flag = 0   ORDE...
                                                             ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 47, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: operator does not exist: character varying = integer
LINE 1: ... = '06-11-2017'       AND appointment_delete_flag = 0   ORDE...
                                                             ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 95820
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:16:02.619327+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 16, 2, 619327, tzinfo=<UTC>))
(0.031)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 8290
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:19:07.980929+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 19, 7, 980929, tzinfo=<UTC>))
(0.033)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.000)         AND     appointment_time ASC; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: syntax error at or near "AND"
LINE 1:         AND     appointment_time ASC
                ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 79, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: syntax error at or near "AND"
LINE 1:         AND     appointment_time ASC
                ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 92359
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:19:48.238231+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 19, 48, 238231, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.001)         ,      appointment_time ASC; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: syntax error at or near ","
LINE 1:         ,      appointment_time ASC
                ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 79, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: syntax error at or near ","
LINE 1:         ,      appointment_time ASC
                ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 92343
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:21:19.423447+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 21, 19, 423447, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.001)         ,      appointment_time ASC; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: syntax error at or near ","
LINE 1:         ,      appointment_time ASC
                ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 79, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: syntax error at or near ","
LINE 1:         ,      appointment_time ASC
                ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 92341
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:22:18.455823+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 22, 18, 455823, tzinfo=<UTC>))
(0.007)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.002)         CAST   (appointment_date AS DATE) ASC; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: syntax error at or near "CAST"
LINE 1:         CAST   (appointment_date AS DATE) ASC
                ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 79, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: syntax error at or near "CAST"
LINE 1:         CAST   (appointment_date AS DATE) ASC
                ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 92510
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:23:03.629407+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 23, 3, 629407, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.001)         AND     appointment_delete_flag = '0'; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: syntax error at or near "AND"
LINE 1:         AND     appointment_delete_flag = '0'
                ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\ERP\Green\trunk\ERP\clinic\views\crm_views.py", line 79, in crm_dentalclinic_overview
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: syntax error at or near "AND"
LINE 1:         AND     appointment_delete_flag = '0'
                ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 92627
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:24:18.976717+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 24, 18, 976717, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.002)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12228
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:24:48.589410+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 24, 48, 589410, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.003)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12342
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:34:04.523208+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 34, 4, 523208, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12900
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:35:38.486582+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 35, 38, 486582, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12900
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:37:55.550422+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 37, 55, 550422, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.003)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13390
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:40:14.825388+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 40, 14, 825388, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.003)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13719
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:41:00.845020+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 41, 0, 845020, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.003)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13397
(0.008) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:41:16.673926+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 41, 16, 673926, tzinfo=<UTC>))
(0.008)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12907
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:43:16.520780+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 43, 16, 520780, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.003)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12907
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T09:43:19.013923+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 9, 43, 19, 13923, tzinfo=<UTC>))
(0.005)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12907
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 85589
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\ERP\\Green\\trunk\\ERP\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 3823
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'kbg4m038vp34c4axnlb9t7lshqrhr7fk' AND "django_session"."expire_date" > '2017-11-06T10:45:19.392716+00:00'::timestamptz); args=('kbg4m038vp34c4axnlb9t7lshqrhr7fk', datetime.datetime(2017, 11, 6, 10, 45, 19, 392716, tzinfo=<UTC>))
(0.002)    SELECT     appointment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '06-11-2017'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004)     SELECT          appointment_id        , user_name AS assign_name        , appointment_date        , appointment_time        , treatment_name        , appointment_content        , appointment_note    FROM        clinic_appointment    INNER JOIN            clinic_user        ON            clinic_user.user_id = clinic_appointment.appointment_assign_id    INNER JOIN            clinic_treatment        ON            clinic_treatment.treatment_id = clinic_appointment.treatment_id    WHERE                clinic_appointment.customer_id = 1        AND     appointment_delete_flag = '0'    ORDER BY        CAST   (appointment_date AS DATE) ASC        ,      appointment_time ASC; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 12907
"GET /static/css/style.css HTTP/1.1" 200 3747
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/css/bootstrap.min.css HTTP/1.1" 200 127343
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.035) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.016) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.013) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T04:21:45.051030+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 4, 21, 45, 51030, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Exception while resolving variable 'customer_name' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [customer_name] in '[]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Exception while resolving variable 'customer_name' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [customer_name] in '[]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Exception while resolving variable 'customer_name' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [customer_name] in '[]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.013) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.014) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.016)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.079) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.156) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T05:12:42.484356+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 5, 12, 42, 484356, tzinfo=<UTC>))
(0.052)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.511) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Exception while resolving variable 'customer_name' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [customer_name] in '[]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.008) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T05:23:45.074254+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 5, 23, 45, 74254, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 277, in ajax_get_appointment_modal
    print("xxxxxxx" + treatmentdetail)
TypeError: must be str, not list
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14305
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T05:24:57.092373+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 5, 24, 57, 92373, tzinfo=<UTC>))
(0.011)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T05:27:45.494005+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 5, 27, 45, 494005, tzinfo=<UTC>))
(0.010)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 277, in ajax_get_appointment_modal
    print("xxxxxxx" + treatmentdetail.customer_name)
AttributeError: 'list' object has no attribute 'customer_name'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14379
(0.007)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.009)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 277, in ajax_get_appointment_modal
    print("xxxxxxx" + treatmentdetail.customer_name)
AttributeError: 'list' object has no attribute 'customer_name'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14379
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T05:28:30.831599+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 5, 28, 30, 831599, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13841
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T05:29:30.044985+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 5, 29, 30, 44985, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T05:31:21.840380+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 5, 31, 21, 840380, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21315
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '11-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '11-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.008)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21461
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.009)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.004)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.009)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21495
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.009)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '11-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.008)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21521
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.013) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21524
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.014) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.013) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.009)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21524
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21524
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.013) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.013) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.025) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.017) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.015) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.015) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.015) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.016) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.014) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7203
(0.022) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14320
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '21-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14320
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '11-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    'treatmentdetail' : treatmentdetail[0]
IndexError: list index out of range
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14319
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T05:57:46.378010+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 5, 57, 46, 378010, tzinfo=<UTC>))
(0.002)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21524
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 42
(0.008)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              status ASC            , date DESC         , time ASC          , data_type ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21524
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T06:02:04.264760+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 6, 2, 4, 264760, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21524
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.009)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13853
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T06:10:35.423997+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 6, 10, 35, 423997, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21524
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.014) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4615
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13849
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , ''                                            AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21524
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.004)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13865
(0.008) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.003) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T06:19:55.927056+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 6, 19, 55, 927056, tzinfo=<UTC>))
(0.002)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.049) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date,name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
Internal Server Error: /CRM-DentalClinic-Overview
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: column "clinic_treatmentdetail.treatmentdetail_time" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: ...                AS date                         , treatmentd...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 152, in crm_dentalclinic_overview
    lstAppointment = sql_get_appointment_schedule(selected_customer.customer_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 362, in sql_get_appointment_schedule
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: column "clinic_treatmentdetail.treatmentdetail_time" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: ...                AS date                         , treatmentd...
                                                             ^

"GET /CRM-DentalClinic-Overview HTTP/1.1" 500 119562
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T06:20:57.644586+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 6, 20, 57, 644586, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13865
(0.005)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13849
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13849
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13849
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.005) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13858
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13878
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13878
(0.009)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13878
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13878
(0.011) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T07:38:43.874479+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 7, 38, 43, 874479, tzinfo=<UTC>))
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.021) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.030) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.013) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13876
(0.004)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13876
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13876
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13876
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13876
(0.005)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13876
(0.004)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.000)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13876
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.016) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13849
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13768
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13962
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.007)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13962
(0.008)        SELECT                       customer_name                    , treatment_name                       , user_name                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 INNER JOIN                         clinic_user                    ON                             clinic_user.brand_id    = clinic_treatmentdetail.brand_id                        AND clinic_user.user_id = clinic_treatmentdetail.treatmentdetail_assign_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14475
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T08:06:56.370284+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 8, 6, 56, 370284, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.006)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14466
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'             ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14472
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T08:09:59.169740+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 8, 9, 59, 169740, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.003)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14472
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T08:10:32.310635+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 8, 10, 32, 310635, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.005) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.004)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14481
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14481
(0.007)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14481
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14481
(0.008)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14481
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 14481
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T09:37:58.998729+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 9, 37, 58, 998729, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
(0.007)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 13551
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T09:39:21.316437+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 9, 39, 21, 316437, tzinfo=<UTC>))
(0.005)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    lst_treatmentdetail = sql_get_treatmentdetail(treatment_id)
TypeError: sql_get_treatmentdetail() missing 1 required positional argument: 'treatmentdetail_date'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14468
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 280, in ajax_get_appointment_modal
    lst_treatmentdetail = sql_get_treatmentdetail(treatment_id)
TypeError: sql_get_treatmentdetail() missing 1 required positional argument: 'treatmentdetail_date'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14468
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T09:42:29.016173+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 9, 42, 29, 16173, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 276, in ajax_get_appointment_modal
    selected_treatmentdetail =  sql_get_treatmentdetails(treatment_id,treatmentdetail_date)
TypeError: sql_get_treatmentdetails() takes 1 positional argument but 2 were given
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14462
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.011) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T09:44:32.933261+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 9, 44, 32, 933261, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
(0.004)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 16881
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22429
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22429
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22429
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22429
(0.008)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 16887
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-21T09:51:21.105607+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 21, 9, 51, 21, 105607, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '21-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 17184
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23237
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.016)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23237
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23237
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.000)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23237
(0.004)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.012)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23237
(0.467) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.110) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.117) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T04:21:15.418763+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 4, 21, 15, 418763, tzinfo=<UTC>))
(0.137)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 13767
"GET /static/css/style.css HTTP/1.1" 304 0
"GET /static/js/jquery.min.js HTTP/1.1" 304 0
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.015)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.176) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.014) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.024) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 17184
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T05:00:44.173248+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 5, 0, 44, 173248, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 288, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '["VIEW_MODAL_MODE_TREATMENT"]' from 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 18708
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 288, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '["VIEW_MODAL_MODE_TREATMENT"]' from 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 18708
(0.005)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 288, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '["VIEW_MODAL_MODE_TREATMENT"]' from 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 18709
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 172, in _get_response
    resolver_match = resolver.resolve(request.path_info)
  File "C:\Python\lib\site-packages\django\urls\resolvers.py", line 300, in resolve
    raise Resolver404({'tried': tried, 'path': new_path})
django.urls.exceptions.Resolver404: {'tried': [[<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^$>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern login ^login/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern logout ^logout/>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-DentalClinic-Overview ^CRM-DentalClinic-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-ContactCenter-Overview ^CRM-ContactCenter-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OpenChannel-Overview ^CRM-OpenChannel-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern CRM-OrderManagement-Overview ^CRM-OrderManagement-Overview>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern calendar-index ^calendar-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern inventory-index ^inventory-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern hr-index ^hr-index>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern get_appointment_schedule ^get_appointment_schedule>], [<RegexURLResolver <module 'clinic.urls' from 'E:\\ws\\Green_new\\trunk\\clinic\\urls.py'> (clinic:clinic) ^>, <RegexURLPattern ajax-get-appointment-modal ^ajax-get-appointment-modal>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: 'RegexURLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'RegexURLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in '<RegexURLResolver <RegexURLPattern list> (admin:admin) ^admin/>'
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 4239
(0.005)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 288, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '["VIEW_MODAL_MODE_TREATMENT"]' from 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 18781
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 288, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '["VIEW_MODAL_MODE_TREATMENT"]' from 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 18781
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 288, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '["VIEW_MODAL_MODE_TREATMENT"]' from 'constant_key["VIEW_MODAL_MODE_TREATMENT"]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 18781
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.004)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 17204
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 17252
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 17040
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 17040
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T05:16:19.726759+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 5, 16, 19, 726759, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.014)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.014)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 18155
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 18155
(0.004)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 18155
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.000)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.001) INSERT INTO "clinic_treatmentdetail" ("brand_id", "treatment_id", "treatmentdetail_id", "treatmentdetail_no", "treatmentdetail_date", "treatmentdetail_time", "treatmentdetail_assign_id", "treatmentdetail_content", "treatmentdetail_price", "treatmentdetail_status", "treatmentdetail_create_date", "treatmentdetail_create_by", "treatmentdetail_update_date", "treatmentdetail_update_by", "treatmentdetail_delete_flag") VALUES (1, 1, 12, '3.1', '04-11-2017', '09:00', 1, 'treatmentdetail_content1', 0, '0', '04-11-2017', '1', '04-11-2017', '1', '0'); args=(1, 1, 12, '3.1', '04-11-2017', '09:00', 1, 'treatmentdetail_content1', 0, '0', '04-11-2017', '1', '04-11-2017', '1', '0')
(0.000) INSERT INTO "clinic_treatmentdetail" ("brand_id", "treatment_id", "treatmentdetail_id", "treatmentdetail_no", "treatmentdetail_date", "treatmentdetail_time", "treatmentdetail_assign_id", "treatmentdetail_content", "treatmentdetail_price", "treatmentdetail_status", "treatmentdetail_create_date", "treatmentdetail_create_by", "treatmentdetail_update_date", "treatmentdetail_update_by", "treatmentdetail_delete_flag") VALUES (1, 1, 13, '3.2', '05-11-2017', '09:00', 1, 'treatmentdetail_content1', 0, '0', '04-11-2017', '1', '04-11-2017', '1', '0'); args=(1, 1, 13, '3.2', '05-11-2017', '09:00', 1, 'treatmentdetail_content1', 0, '0', '04-11-2017', '1', '04-11-2017', '1', '0')
(0.001) INSERT INTO "clinic_treatmentdetail" ("brand_id", "treatment_id", "treatmentdetail_id", "treatmentdetail_no", "treatmentdetail_date", "treatmentdetail_time", "treatmentdetail_assign_id", "treatmentdetail_content", "treatmentdetail_price", "treatmentdetail_status", "treatmentdetail_create_date", "treatmentdetail_create_by", "treatmentdetail_update_date", "treatmentdetail_update_by", "treatmentdetail_delete_flag") VALUES (1, 1, 14, '3.3', '23-11-2017', '09:00', 1, 'treatmentdetail_content1', 0, '0', '04-11-2017', '1', '04-11-2017', '1', '0'); args=(1, 1, 14, '3.3', '23-11-2017', '09:00', 1, 'treatmentdetail_content1', 0, '0', '04-11-2017', '1', '04-11-2017', '1', '0')
(0.000) INSERT INTO "clinic_treatmentdetail" ("brand_id", "treatment_id", "treatmentdetail_id", "treatmentdetail_no", "treatmentdetail_date", "treatmentdetail_time", "treatmentdetail_assign_id", "treatmentdetail_content", "treatmentdetail_price", "treatmentdetail_status", "treatmentdetail_create_date", "treatmentdetail_create_by", "treatmentdetail_update_date", "treatmentdetail_update_by", "treatmentdetail_delete_flag") VALUES (1, 1, 15, '3.4', '', '09:00', 1, 'treatmentdetail_content1', 0, '0', '04-11-2017', '1', '04-11-2017', '1', '0'); args=(1, 1, 15, '3.4', '', '09:00', 1, 'treatmentdetail_content1', 0, '0', '04-11-2017', '1', '04-11-2017', '1', '0')
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 8657
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
(0.031) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7213
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'       ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22957
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22957
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22957
(0.013) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T05:36:00.896318+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 5, 36, 0, 896318, tzinfo=<UTC>))
"POST /get_appointment_schedule/ HTTP/1.1" 200 4620
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 87
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T05:56:05.718230+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 5, 56, 5, 718230, tzinfo=<UTC>))
(0.008)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21534
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_user' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_user] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03AD1A98>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABABB0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACC70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 7709
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_user' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_user] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42A50>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AB8D20>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AACAF0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB21D0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 7709
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_user' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_user] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42B28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AAC550>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AB2A50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 7709
(0.007)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21612
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_user' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_user] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0CB28>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1C90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x0367D890>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03AACF50>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 7709
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_user' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_user] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03B0C588>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03AD1BB8>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABAF90>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFD70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 7709
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21612
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.014)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.016)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_user' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_user] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03A42F18>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03B0CB70>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03ABA0D0>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03ACFCB0>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 7709
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7354
(0.007)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22957
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22957
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 4703
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.027) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\utils\datastructures.py", line 83, in __getitem__
    list_ = super(MultiValueDict, self).__getitem__(key)
KeyError: 'action'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 104, in ajax_get_appointment_modal
    action = request.POST['action']
  File "C:\Python\lib\site-packages\django\utils\datastructures.py", line 85, in __getitem__
    raise MultiValueDictKeyError(repr(key))
django.utils.datastructures.MultiValueDictKeyError: "'action'"
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T07:06:02.401266+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 7, 6, 2, 401266, tzinfo=<UTC>))
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 14757
(0.007)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                null                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21679
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 97
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_user' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_user] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'lst_treatmentdetail' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'lst_treatmentdetail'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [lst_treatmentdetail] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]"
Exception while resolving variable 'view_modal_mode' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [view_modal_mode] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
Exception while resolving variable 'constant_key' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
  File "C:\Python\lib\site-packages\django\template\context.py", line 75, in __getitem__
    raise KeyError(key)
KeyError: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(type(current), bit):
AttributeError: type object 'RequestContext' has no attribute 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'constant_key'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [constant_key] in "[{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x03BD2DB0>>, 'request': <WSGIRequest: POST '/ajax-get-appointment-modal/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x03BCBC90>>, 'perms': <django.contrib.auth.context_processors.PermWrapper object at 0x03AFD530>, 'messages': <django.contrib.messages.storage.fallback.FallbackStorage object at 0x03BB3B70>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 7709
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 97
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 100
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 100
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 97
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 97
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T07:09:18.838502+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 7, 9, 18, 838502, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 21679
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.005)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 97
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.005) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 97
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.007)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T08:48:21.805420+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 8, 48, 21, 805420, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.104)        SELECT                 appointment_id                 , treatment_name                   , appointment_assign_id                , appointment_date                 , appointment_time             FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              WHERE                  clinic_appointment.appointment_id = '{}'        ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.DataError: invalid input syntax for integer: "{}"
LINE 1: ...              clinic_appointment.appointment_id = '{}'      ...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 122, in ajax_get_appointment_modal
    appointment_info = sql_get_appointment(appointment_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 333, in sql_get_appointment
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.DataError: invalid input syntax for integer: "{}"
LINE 1: ...              clinic_appointment.appointment_id = '{}'      ...
                                                             ^

"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 15928
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T08:49:06.322967+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 8, 49, 6, 322967, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.005) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.004)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.002)        SELECT                 appointment_id                 , treatment_name                   , appointment_assign_id                , appointment_date                 , appointment_time             FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              WHERE                  clinic_appointment.appointment_id = '{}'        ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.DataError: invalid input syntax for integer: "{}"
LINE 1: ...              clinic_appointment.appointment_id = '{}'      ...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 122, in ajax_get_appointment_modal
    appointment_info = sql_get_appointment(appointment_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 333, in sql_get_appointment
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.DataError: invalid input syntax for integer: "{}"
LINE 1: ...              clinic_appointment.appointment_id = '{}'      ...
                                                             ^

"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 15928
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T08:50:07.450463+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 8, 50, 7, 450463, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.004)        SELECT                 appointment_id                 , treatment_name                   , appointment_assign_id                , appointment_date                 , appointment_time             FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
Exception while resolving variable 'customer_name' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [customer_name] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatment_name' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatment_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatment_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatment_name] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_assign_id' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_assign_id] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_assign_id' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_assign_id] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_assign_id' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_assign_id] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_assign_id' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_assign_id] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_date' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_date] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_time' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_time] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_time' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_time] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_time' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_time] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 8674
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T09:56:06.042881+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 9, 56, 6, 42881, tzinfo=<UTC>))
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.003)        SELECT                   appointment_id                 , treatment_name                   , appointment_assign_id                , appointment_date                 , appointment_time             FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
Exception while resolving variable 'customer_name' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'customer_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [customer_name] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatment_name' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatment_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatment_name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatment_name] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_assign_id' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_assign_id] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_assign_id' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_assign_id] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_assign_id' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_assign_id] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_assign_id' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_assign_id'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_assign_id] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_date' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_date'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_date] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_time' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_time] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_time' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_time] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
Exception while resolving variable 'treatmentdetail_time' in template 'clinic/crm_dentalclinic_overview_modal_appoinment.html'.
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = current[bit]
TypeError: list indices must be integers or slices, not str

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'list' object has no attribute 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 900, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'treatmentdetail_time'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\base.py", line 907, in _resolve_lookup
    (bit, current))  # missing attribute
django.template.base.VariableDoesNotExist: Failed lookup for key [treatmentdetail_time] in "[Result(appointment_id=7, treatment_name='treatment_name2', appointment_assign_id=1, appointment_date='04-11-2017', appointment_time='10:00')]"
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 8674
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.010)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 8674
(0.003)        SELECT                       customer_name                    , treatment_name                       , treatmentdetail_assign_id                    , treatmentdetail_date                     , treatmentdetail_time                 FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 8674
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T10:10:41.867976+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 10, 10, 41, 867976, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12087
(0.009)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.008)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 8674
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.015) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12307
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12307
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12363
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.002)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12363
(0.005)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.000)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.003)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12363
(0.007)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.000)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12363
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12363
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12363
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 100
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 100
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 97
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 97
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12363
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.013) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T10:16:10.508773+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 10, 16, 10, 508773, tzinfo=<UTC>))
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 22957
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23218
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23287
(0.005)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23026
(0.005)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.005) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.005)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.000)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12171
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.003)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12165
(0.004)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12165
(0.005)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12165
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.005)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12405
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23260
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 5074
(0.004)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.001)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12144
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.005)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.012) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10938
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12102
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23218
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T11:13:55.928984+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 11, 13, 55, 928984, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.005) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.013)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: '(view_modal_mode'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 119, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 803, in do_for
    nodelist_loop = parser.parse(('empty', 'endfor',))
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '(view_modal_mode' from '(view_modal_mode'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 19945
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 5074
(0.007)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: '('

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 119, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 803, in do_for
    nodelist_loop = parser.parse(('empty', 'endfor',))
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '(' from '('
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 19842
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.005) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '2'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12336
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '7'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '2'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 12639
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.005)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23893
(0.005)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.051)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23893
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.005)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T11:21:44.617791+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 11, 21, 44, 617791, tzinfo=<UTC>))
(0.003)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.003) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 100
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T11:23:21.303321+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 11, 23, 21, 303321, tzinfo=<UTC>))
(0.002)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.010) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 174, in translate_token
    op = OPERATORS[token]
KeyError: 'selected_task[1]'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 134, in ajax_get_appointment_modal
    return render(request,"clinic/crm_dentalclinic_overview_modal_appoinment.html", context)
  File "C:\Python\lib\site-packages\django\shortcuts.py", line 30, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 67, in render_to_string
    template = get_template(template_name, using=using)
  File "C:\Python\lib\site-packages\django\template\loader.py", line 21, in get_template
    return engine.get_template(template_name)
  File "C:\Python\lib\site-packages\django\template\backends\django.py", line 39, in get_template
    return Template(self.engine.get_template(template_name), self)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 160, in get_template
    template, origin = self.find_template(template_name)
  File "C:\Python\lib\site-packages\django\template\engine.py", line 134, in find_template
    name, template_dirs=dirs, skip=skip,
  File "C:\Python\lib\site-packages\django\template\loaders\base.py", line 44, in get_template
    contents, origin, origin.template_name, self.engine,
  File "C:\Python\lib\site-packages\django\template\base.py", line 191, in __init__
    self.nodelist = self.compile_nodelist()
  File "C:\Python\lib\site-packages\django\template\base.py", line 233, in compile_nodelist
    return parser.parse()
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 803, in do_for
    nodelist_loop = parser.parse(('empty', 'endfor',))
  File "C:\Python\lib\site-packages\django\template\base.py", line 518, in parse
    raise self.error(token, e)
  File "C:\Python\lib\site-packages\django\template\base.py", line 516, in parse
    compiled_result = compile_func(self, token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 944, in do_if
    condition = TemplateIfParser(parser, bits).parse()
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 876, in __init__
    super(TemplateIfParser, self).__init__(*args, **kwargs)
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 165, in __init__
    mapped_tokens.append(self.translate_token(token))
  File "C:\Python\lib\site-packages\django\template\smartif.py", line 176, in translate_token
    return self.create_var(token)
  File "C:\Python\lib\site-packages\django\template\defaulttags.py", line 879, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
  File "C:\Python\lib\site-packages\django\template\base.py", line 603, in compile_filter
    return FilterExpression(token, self)
  File "C:\Python\lib\site-packages\django\template\base.py", line 703, in __init__
    "from '%s'" % (token[upto:], token))
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '[1]' from 'selected_task[1]'
"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 19911
(0.005)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.005) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.038)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.011) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24154
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24154
(0.005)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23893
(0.006)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '04-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 23893
(0.008) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24308
(0.004)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.004) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.006) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24308
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.005)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.006)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.007) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24322
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.015) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.002) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.006) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.016) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."session_key" = 'phsu6hnvchqiodobraxj1o9yhbh4w2ie' AND "django_session"."expire_date" > '2017-11-22T12:52:19.769664+00:00'::timestamptz); args=('phsu6hnvchqiodobraxj1o9yhbh4w2ie', datetime.datetime(2017, 11, 22, 12, 52, 19, 769664, tzinfo=<UTC>))
(0.011)    SELECT     appointment_id   , treatment_id   , clinic_customer.customer_id   , customer_name   , customer_phone_number   , appointment_time   , appointment_content   , appointment_status   FROM         clinic_customer   INNER JOIN         clinic_appointment   ON       clinic_customer.customer_id = clinic_appointment.customer_id   WHERE           appointment_date = '22-11-2017'       AND appointment_assign_id = '1'       AND appointment_status <> '7'       AND appointment_delete_flag = '0'   ORDER BY         appointment_status       , appointment_time; args=None
(0.009) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '2'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '2'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"GET /CRM-DentalClinic-Overview HTTP/1.1" 200 22153
"GET /static/css/style.css HTTP/1.1" 200 10971
"GET /static/font-awesome/css/font-awesome.min.css HTTP/1.1" 200 31000
"GET /static/js/jquery.min.js HTTP/1.1" 200 86659
"GET /static/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0 HTTP/1.1" 200 77160
(0.072) (           (           SELECT                appointment_id                      AS id               , user_name                           AS assign_name              , appointment_date                    AS date             , appointment_time                    AS time             , clinic_treatment.treatment_id       AS treatment_id             , treatment_name                      AS name             , appointment_content                 AS content              , appointment_note                    AS note             , appointment_status                  AS status               , '1'                                 AS data_type         FROM                clinic_appointment          INNER JOIN                  clinic_user             ON                  clinic_user.user_id = clinic_appointment.appointment_assign_id          INNER JOIN                  clinic_treatment                ON                  clinic_treatment.treatment_id = clinic_appointment.treatment_id         WHERE                       clinic_appointment.customer_id = '1'                AND     clinic_appointment.appointment_status <> '0'                AND     appointment_delete_flag = '0'       )   UNION ALL       (           SELECT                '-1'                                          AS id                               , clinic_user.user_name                         AS assign_name                              , treatmentdetail_date                          AS date                         , treatmentdetail_time                          AS time                             , clinic_treatment.treatment_id                 AS treatment_id              , treatment_name                                AS name                     , string_agg(treatmentdetail_no, ', ')          AS content                          , ''                                            AS note                 , '6'                                           AS status                       , '2'                                           AS data_type                    FROM                clinic_treatmentdetail          INNER JOIN                  clinic_treatment                ON                      clinic_treatment.treatment_id = clinic_treatmentdetail.treatment_id             AND     clinic_treatment.customer_id = '1'          inner join                  clinic_user             ON                  clinic_treatment.user_id  = clinic_user.user_id         WHERE                     clinic_treatmentdetail.treatmentdetail_status = '0'             AND   clinic_treatmentdetail.treatmentdetail_delete_flag = '0'         GROUP BY                  clinic_treatment.treatment_id                   , assign_name                     , date                    , time                    , name        )   )   ORDER BY              data_type ASC          , status ASC            , date DESC         , time ASC  ; args=None
"POST /get_appointment_schedule/ HTTP/1.1" 200 7962
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.004)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.002)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
(0.043)        SELECT             treatmentdetail_id         FROM               clinic_appointmentdetail           WHERE              clinic_appointmentdetail.appointment_id = '10'  ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 125, in ajax_get_appointment_modal
    appointmentdetails  = sql_get_appointmentdetails(appointment_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 356, in sql_get_appointmentdetails
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^

"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 15996
(0.005)        SELECT                       customer_name              AS customer_name           , treatment_name             AS name           , treatmentdetail_assign_id  AS assign_id                  , treatmentdetail_date       AS date              , treatmentdetail_time       AS time          FROM                       clinic_treatmentdetail                 INNER JOIN                         clinic_treatment                       ON                             clinic_treatment.brand_id       = clinic_treatmentdetail.brand_id                          AND clinic_treatment.treatment_id   = clinic_treatmentdetail.treatment_id                  INNER JOIN                         clinic_customer                    ON                             clinic_customer.brand_id    = clinic_treatment.brand_id                        AND clinic_customer.customer_id = clinic_treatment.customer_id                 WHERE                          clinic_treatmentdetail.treatment_id                 = '1'                       AND clinic_treatmentdetail.treatmentdetail_date         = '05-11-2017'                       AND clinic_treatmentdetail.treatmentdetail_delete_flag  = '0'                   LIMIT 1            ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
"POST /ajax-get-appointment-modal/ HTTP/1.1" 200 24061
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
(0.000)        SELECT             treatmentdetail_id         FROM               clinic_appointmentdetail           WHERE              clinic_appointmentdetail.appointment_id = '10'  ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 125, in ajax_get_appointment_modal
    appointmentdetails  = sql_get_appointmentdetails(appointment_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 356, in sql_get_appointmentdetails
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^

"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 15996
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
(0.001)        SELECT             treatmentdetail_id         FROM               clinic_appointmentdetail           WHERE              clinic_appointmentdetail.appointment_id = '10'  ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 125, in ajax_get_appointment_modal
    appointmentdetails  = sql_get_appointmentdetails(appointment_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 356, in sql_get_appointmentdetails
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^

"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 15996
(0.004)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
(0.000)        SELECT             treatmentdetail_id         FROM               clinic_appointmentdetail           WHERE              clinic_appointmentdetail.appointment_id = '10'  ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 125, in ajax_get_appointment_modal
    appointmentdetails  = sql_get_appointmentdetails(appointment_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 356, in sql_get_appointmentdetails
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^

"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 15996
(0.003)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.002)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
(0.001)        SELECT             treatmentdetail_id         FROM               clinic_appointmentdetail           WHERE              clinic_appointmentdetail.appointment_id = '10'  ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 125, in ajax_get_appointment_modal
    appointmentdetails  = sql_get_appointmentdetails(appointment_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 356, in sql_get_appointmentdetails
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^

"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 15996
(0.005)        SELECT                   customer_name              AS customer_name           , treatment_name             AS name           , appointment_assign_id      AS assign_id           , appointment_date           AS date           , appointment_time           AS time       FROM                   clinic_appointment             INNER JOIN                     clinic_treatment                   ON                         clinic_treatment.brand_id       = clinic_appointment.brand_id                      AND clinic_treatment.treatment_id   = clinic_appointment.treatment_id              INNER JOIN                     clinic_customer                   ON                         clinic_customer.brand_id       = clinic_appointment.brand_id                      AND clinic_customer.customer_id   = clinic_appointment.customer_id              WHERE                  clinic_appointment.appointment_id = '10'        ; args=None
(0.003)         SELECT                           user_id                          , user_name                            , user_dob                         , user_phone_number                            , user_address                         , user_specialize                      FROM                           clinic_user                        WHERE                              (clinic_user.user_role           = '1'                         OR  clinic_user.user_role           = '3')                         AND clinic_user.user_delete_flag    = '0'                     ORDER BY                    user_name        ; args=None
(0.001)        SELECT                   treatmentdetail_id                   , treatmentdetail_no                   , treatmentdetail_date                 , treatmentdetail_content                  , treatmentdetail_status               FROM                   clinic_treatmentdetail             WHERE                      clinic_treatmentdetail.treatment_id = '1'                 AND clinic_treatmentdetail.treatmentdetail_delete_flag = '0'              ORDER BY                     treatmentdetail_no         ; args=None
(0.015)        SELECT             treatmentdetail_id         FROM               clinic_appointmentdetail           WHERE              clinic_appointmentdetail.appointment_id = '10'  ; args=None
Internal Server Error: /ajax-get-appointment-modal/
Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
psycopg2.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 249, in _legacy_get_response
    response = self._get_response(request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Python\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 125, in ajax_get_appointment_modal
    appointmentdetails  = sql_get_appointmentdetails(appointment_id)
  File "E:\ws\Green_new\trunk\clinic\views\crm_views.py", line 356, in sql_get_appointmentdetails
    cursor.execute(sql)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "C:\Python\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "C:\Python\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "C:\Python\lib\site-packages\django\db\backends\utils.py", line 62, in execute
    return self.cursor.execute(sql)
django.db.utils.ProgrammingError: relation "clinic_appointmentdetail" does not exist
LINE 1: ...    treatmentdetail_id         FROM               clinic_app...
                                                             ^

"POST /ajax-get-appointment-modal/ HTTP/1.1" 500 15996
(0.004) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.001) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
(0.005) 
            SELECT c.relname, c.relkind
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid); args=None
(0.000) SELECT "django_migrations"."app", "django_migrations"."name" FROM "django_migrations"; args=()
